var RedactorPlugins=RedactorPlugins||{};function Gallery(){return new RedactorPlugins.prototype.init}$.Gallery=Gallery,Gallery.VERSION="1.0",Gallery.opts={galleryUrl:"/redactor_albums/index",class_div:"class_div"},RedactorPlugins.gallery={is_load:!1,dropdown_g:{},init:function(){var a=this.buttonAdd("gallery","Gallery",$.proxy(this.showGallery,this));return this.dropdown_g=$("<div class=\"redactor_dropdown redactor_gallery row redactor_dropdown_box_gallery\" />"),void a.data("dropdown",this.dropdown_g)},loaded:function(){if(!0===this.is_load)return this;var a=this;return this.showProgressBar(),$.post($.Gallery.opts.galleryUrl,{},function(b){if(a.is_load=!0,!!b){for(var c in b){var d=$("<div class=\"col-sm-2\"><img class=\"img-fluid "+$.Gallery.opts.class_div+"\"  title=\":"+c+":\" src=\"/upload/"+b[c].original+"\" style=\"\" /></div>");a.dropdown_g.append(d),d=d.find("img"),$(d).on("click",function(b){b.preventDefault(),a.bufferSet(),a.$editor.focus(),a.insertHtmlAdvanced(this.outerHTML),a.sync()})}a.hideProgressBar()}},"json"),this},showGallery:function(a,b,c,d){this.loaded(),this.dropdownShow(d,a)}};